# 使用教程

在使用前，需要对文件的组织形式进行了解。当未标注时，文件可只有`A`和`B`两个文件夹，其中保存的两时期影像的文件名相同。文件组织如下：

```
testimgs
   ├-- A					# 用于存放时段一的图像
   |   └-- 01.jpg				# 时段一图像
   ├-- B					# 用于存放时段二的图像
   |   └-- 01.jpg				# 时段二图像
   ├-- GT					# 自动生成，用于存放标注结果
   |   ├-- 01_pseudo.png			# 伪彩色图
   |   ├-- 01.bmp			        # 单波段标注图
   |   └-- 01.json				# 自定义格式标注，用于恢复多边形
   └-- label.json	 		        # 自动生成，用于自动标签导入
```

## 切分/合并大图

在“文件”中使用“切分大图”，需要选择大图路径和切分大小，可将一张大的遥感图像切分为多张小图。其中小图的命名中带有该图在大图像左上角的坐标，因此如果需要使用“合并大图”操作将该文件夹内的小图合并，则不能修改图像的名字。

## 清理空白标签

在“文件”中使用“清理空白标签”，需要选择符合文件组织的文件夹。该操作会遍历`GT`中的标签，将没有内容的标签对应的两时期影像、json文件等一并删除。

## 从标签建立标注

在“文件”中使用“从标签建立标注”，需要选择一个仅存放图像掩模的文件夹，该操作会为文件夹中的掩膜生成对应的json文件，使LabCD打开时绘制多边形以用于进行调整。

## 变化检测标注

核心功能，该功能使用时，在“文件”中使用“打开文件夹”，选择符合文件组织的文件夹，即可进行标注。

1. 标注时需要先在“标签列表”中“添加标签”，设置对应的颜色和文字内容。
2. 可以通过上/下翻页或直接双击“数据列表”中的文件名，切换到需要标注的文件。
3. 点击一个标签，再在图像中进行标注，鼠标左边新建点，右键完成当前多边形标注。
4. 完成后切换图像或点击保存都会保存结果，结果包括一个掩膜文件、一个多边形的json文件和一个伪彩色文件。

*最好每次绘制完一个多边形都在画布上点一下鼠标右键，若突然点击左键无效，可以切换一下标签，重新点击。*

其余功能包括：

- 设置十字丝的颜色。
- 加载一个小图像，该图像为两时期影像计算的变化强度图像。
- 增加第一次加载多光谱数据计算最佳波段组合，后续加载计算所得的波段。
- 删除指定多边形和清空多边形。
- 双击”点“可以删除该点，双击”线“可以在该线处新建一个点。